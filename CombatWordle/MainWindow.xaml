<Window
    x:Class="CombatWordle.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CombatWordle"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="CombatWordle"
    Width="1024"
    Height="868"
    Background="#0F0F0F"
    FontFamily="VCR OSD Mono"
    Foreground="White"
    Icon="/Assets/Icon.ico"
    KeyDown="Window_KeyDown"
    KeyUp="Window_KeyUp"
    MouseDown="Window_MouseDown"
    MouseMove="Window_MouseMove"
    MouseUp="Window_MouseUp"
    MouseWheel="Window_MouseWheel"
    ResizeMode="NoResize"
    SnapsToDevicePixels="True"
    UseLayoutRounding="True"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="48" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid
            x:Name="TitleBar"
            Grid.Row="0"
            Background="#323232"
            MouseDown="TitleBar_MouseDown">
            <TextBlock
                x:Name="TitleTextShadow"
                Padding="5,5,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                FontSize="40"
                Text="{Binding Title, RelativeSource={RelativeSource AncestorType=Window}}" />
            <TextBlock
                x:Name="TitleText"
                Padding="6,6,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                FontSize="40"
                MouseMove="Window_MouseMove"
                MouseUp="Window_MouseUp"
                Text="{Binding Title, RelativeSource={RelativeSource AncestorType=Window}}" />

            <StackPanel
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Orientation="Horizontal">

                <Button
                    x:Name="MinimizeButton"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Background="Transparent"
                    BorderThickness="2"
                    Click="MinimizeButton_Click"
                    FontSize="48">
                    <Viewbox Width="48" Height="48">
                        <TextBlock
                            FontSize="48"
                            Text="-"
                            TextAlignment="Center"
                            Foreground="Gray"/>
                    </Viewbox>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button
                    x:Name="ClosingButton"
                    Margin="2,0,0,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Background="Transparent"
                    BorderThickness="2"
                    Click="ClosingButton_Click"
                    FontSize="48">
                    <Viewbox Width="48" Height="48">
                        <TextBlock
                            FontSize="48"
                            Text="X"
                            TextAlignment="Center"
                            Foreground="Gray"/>
                    </Viewbox>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </Grid>
        <Border
            Grid.Row="1"
            BorderBrush="#282828"
            BorderThickness="1"
            RenderOptions.BitmapScalingMode="HighQuality"
            SnapsToDevicePixels="True">

            <Grid>
                <StackPanel
                    x:Name="StartMenu"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">

                    <Button
                        x:Name="PlayButton"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="PlayButton_Click"
                        Content="Play"
                        FontSize="84"
                        Foreground="White">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <ContentPresenter />
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <Button
                        x:Name="EditorButton"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="EditorButton_Click"
                        Content="Editor"
                        FontSize="84"
                        Foreground="White">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <ContentPresenter />
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
        <Grid Grid.Row="1" ClipToBounds="True">
            <Canvas x:Name="GameCanvas" Visibility="Hidden">
                <Canvas.RenderTransform>
                    <TransformGroup>
                        <TranslateTransform x:Name="CameraTransform" X="0" Y="0" />
                        <ScaleTransform x:Name="CameraScale" ScaleX="1" ScaleY="1" />
                    </TransformGroup>
                </Canvas.RenderTransform>
            </Canvas>
            <TextBlock
                x:Name="DebugText"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                FontSize="32"
                Foreground="White"
                Visibility="Hidden" />
            <TextBlock
                x:Name="EntityCounter"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                FontSize="32"
                Foreground="White"
                Visibility="Hidden" />

            <Grid
                x:Name="GameOverlay"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                Visibility="Hidden">
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button
                    x:Name="GhostTitle"
                    Grid.Row="0"
                    Grid.Column="0"
                    HorizontalAlignment="Left"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="GhostTitle_Click"
                    Content="Ghost:"
                    FontSize="36"
                    Foreground="White">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button
                    x:Name="GhostBool"
                    Grid.Row="0"
                    Grid.Column="1"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="GhostTitle_Click"
                    Content="OFF"
                    FontSize="36"
                    Foreground="IndianRed">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button
                    x:Name="OverlayTitle"
                    Grid.Row="1"
                    Grid.Column="0"
                    HorizontalAlignment="Left"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="OverlayTitle_Click"
                    Content="Areas:"
                    FontSize="36"
                    Foreground="White">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button
                    x:Name="OverlayBool"
                    Grid.Row="1"
                    Grid.Column="1"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="OverlayTitle_Click"
                    Content="ON"
                    FontSize="36"
                    Foreground="LightGreen">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button
                    x:Name="GridTitle"
                    Grid.Row="2"
                    Grid.Column="0"
                    HorizontalAlignment="Left"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="GridTitle_Click"
                    Content="Grid:"
                    FontSize="36"
                    Foreground="White">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button
                    x:Name="GridBool"
                    Grid.Row="2"
                    Grid.Column="1"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="GridTitle_Click"
                    Content="ON"
                    FontSize="36"
                    Foreground="LightGreen">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
            <Button
                x:Name="EditorSave"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Background="Transparent"
                BorderThickness="0"
                Click="EditorSave_Click"
                Content="Save"
                FontSize="50"
                Foreground="White"
                Visibility="Hidden">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Grid
                x:Name="EditorOverlay"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                Visibility="Hidden">
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Button
                    x:Name="EditorGridTitle"
                    Grid.Row="0"
                    Grid.Column="0"
                    HorizontalAlignment="Left"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="EditorGridTitle_Click"
                    Content="Grid:"
                    FontSize="36"
                    Foreground="White">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button
                    x:Name="EditorGridBool"
                    Grid.Row="0"
                    Grid.Column="1"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="EditorGridTitle_Click"
                    Content="ON"
                    FontSize="36"
                    Foreground="LightGreen">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </Grid>
    </Grid>
</Window>